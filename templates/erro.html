{% extends "base.html" %} {% block title %}Erro - EEG Visualizer Pro{% endblock
%} {% block content %}
<div class="error-page">
  <div class="error-container">
    <div class="error-icon">
      <i class="fas fa-exclamation-triangle"></i>
    </div>

    <h1 class="error-title">Ops! Algo deu errado</h1>

    <div class="error-message">{{ mensagem }}</div>

    <div class="error-actions">
      <a href="{{ url_for('home') }}" class="btn btn-primary">
        <i class="fas fa-home"></i>
        Voltar ao Início
      </a>

      <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">
        <i class="fas fa-tachometer-alt"></i>
        Dashboard
      </a>

      <button onclick="window.location.reload()" class="btn btn-outline">
        <i class="fas fa-redo"></i>
        Recarregar
      </button>
    </div>

    {% if mensagem and mensagem|length > 100 %}
    <div class="error-details">
      <h4>
        <i class="fas fa-info-circle"></i>
        Detalhes do Erro
      </h4>
      <div class="error-code">{{ mensagem }}</div>
      <button onclick="copyError()" class="btn btn-sm btn-outline mt-2">
        <i class="fas fa-copy"></i>
        Copiar Erro
      </button>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %} {% block extra_css %}
<style>
  .error-page {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    background: linear-gradient(
      135deg,
      var(--primary-color) 0%,
      var(--secondary-color) 100%
    );
  }

  .error-container {
    background: var(--surface-color);
    padding: 3rem;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-xl);
    text-align: center;
    max-width: 600px;
    width: 100%;
    animation: slideInUp 0.6s ease-out;
  }

  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .error-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--danger-color), #dc2626);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    font-size: 2rem;
    color: white;
    box-shadow: var(--shadow-lg);
  }

  .error-title {
    font-size: 1.75rem;
    color: var(--text-primary);
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .error-message {
    color: var(--text-secondary);
    margin-bottom: 2rem;
    line-height: 1.6;
    font-size: 1.1rem;
    background: var(--background-light);
    padding: 1.5rem;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--danger-color);
  }

  .error-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 2rem;
  }

  .error-details {
    margin-top: 2rem;
    padding: 1.5rem;
    background: var(--background-light);
    border-radius: var(--border-radius);
    text-align: left;
    border: 1px solid var(--border-color);
  }

  .error-details h4 {
    color: var(--text-primary);
    margin-bottom: 1rem;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .error-code {
    background: var(--surface-color);
    padding: 1rem;
    border-radius: var(--border-radius-sm);
    border: 1px solid var(--border-color);
    margin-top: 0.5rem;
    font-family: "Courier New", monospace;
    font-size: 0.875rem;
    color: var(--text-secondary);
    max-height: 200px;
    overflow-y: auto;
    white-space: pre-wrap;
    word-break: break-word;
  }

  @media (max-width: 768px) {
    .error-page {
      padding: 1rem;
    }

    .error-container {
      padding: 2rem;
    }

    .error-actions {
      flex-direction: column;
    }

    .error-actions .btn {
      width: 100%;
      justify-content: center;
    }
  }
</style>
{% endblock %} {% block extra_js %}
<script>
  // Animação de entrada
  document.addEventListener("DOMContentLoaded", function () {
    const container = document.querySelector(".error-container");
    if (container) {
      container.style.opacity = "0";
      container.style.transform = "translateY(30px)";

      setTimeout(() => {
        container.style.transition = "all 0.6s ease-out";
        container.style.opacity = "1";
        container.style.transform = "translateY(0)";
      }, 100);
    }
  });

  // Função para copiar erro
  function copyError() {
    const errorText = `{{ mensagem }}`;

    if (navigator.clipboard && window.isSecureContext) {
      navigator.clipboard
        .writeText(errorText)
        .then(() => {
          showNotification(
            "Erro copiado para a área de transferência!",
            "success"
          );
        })
        .catch(() => {
          fallbackCopyTextToClipboard(errorText);
        });
    } else {
      fallbackCopyTextToClipboard(errorText);
    }
  }

  // Fallback para navegadores que não suportam clipboard API
  function fallbackCopyTextToClipboard(text) {
    const textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.position = "fixed";
    textArea.style.left = "-999999px";
    textArea.style.top = "-999999px";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
      document.execCommand("copy");
      showNotification("Erro copiado para a área de transferência!", "success");
    } catch (err) {
      showNotification("Erro ao copiar: " + err, "error");
    }

    document.body.removeChild(textArea);
  }
</script>
{% endblock %}
